version: 1
frontend:
    phases:
        preBuild:
            commands:
                - 'printf "//registry.npmjs.org/:_authToken=${NPM_TOKEN}" >> ~/.npmrc'
                - npm install
                - npm ls --depth=1
        build:
            commands:
                - 'npm run build'
    artifacts:
        baseDirectory: build
        files:
            - '**/*'
    cache:
        paths:
            - '.npm/**/*'
